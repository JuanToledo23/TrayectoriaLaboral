var empleados = [
	{
		idSeccion: '1', nombreSeccion:'Administración', img:'icoAdministracion.svg',
		personal:[
			{idEmpleado:'1', nombre:'Coyolxauhqui Ramirez', fechaIngreso:'12 de Enero 2012', foto:'empleado1.jpg'},
			{idEmpleado:'2', nombre:'Karen Gonzalez', fechaIngreso:'12 de Febrero 2012', foto:'empleado2.jpg'},
			{idEmpleado:'3', nombre:'Haim Sagrero', fechaIngreso:'12 de Junio 2000', foto:'empleado3.jpg'},
			{idEmpleado:'4', nombre:'Ariel Castro', fechaIngreso:'18 de mayo 2000', foto:'empleado4.jpg'},
			{idEmpleado:'5', nombre:'Coyolxauhqui Ramirez', fechaIngreso:'12 de Enero 2012', foto:'empleado1.jpg'},
			{idEmpleado:'6', nombre:'Karen Gonzalez', fechaIngreso:'12 de Febrero 2012', foto:'empleado2.jpg'},
			{idEmpleado:'7', nombre:'Haim Sagrero', fechaIngreso:'12 de Junio 2000', foto:'empleado3.jpg'},
			{idEmpleado:'8', nombre:'Ariel Castro', fechaIngreso:'18 de mayo 2000', foto:'empleado4.jpg'},
			{idEmpleado:'9', nombre:'Coyolxauhqui Ramirez', fechaIngreso:'12 de Enero 2012', foto:'empleado1.jpg'},
			{idEmpleado:'10', nombre:'Karen Gonzalez', fechaIngreso:'12 de Febrero 2012', foto:'empleado2.jpg'},
			{idEmpleado:'11', nombre:'Haim Sagrero', fechaIngreso:'12 de Junio 2000', foto:'empleado3.jpg'},
			{idEmpleado:'12', nombre:'Ariel Castro', fechaIngreso:'18 de mayo 2000', foto:'empleado4.jpg'},
		]
	},
	{
		idSeccion: '2', nombreSeccion:'Audante general', img:'icoAyudante.svg',
		personal :[
			{idEmpleado:'1', nombre:'Coyolxauhqui Ramirez', fechaIngreso:'12 de Enero 2012', foto:'empleado1.jpg'},
			{idEmpleado:'2', nombre:'Karen Gonzalez', fechaIngreso:'12 de Febrero 2012', foto:'empleado2.jpg'},
			{idEmpleado:'3', nombre:'Haim Sagrero', fechaIngreso:'12 de Junio 2000', foto:'empleado3.jpg'},
			{idEmpleado:'4', nombre:'Ariel Castro', fechaIngreso:'18 de mayo 2000', foto:'empleado4.jpg'},
			{idEmpleado:'5', nombre:'Coyolxauhqui Ramirez', fechaIngreso:'12 de Enero 2012', foto:'empleado1.jpg'},
			{idEmpleado:'6', nombre:'Karen Gonzalez', fechaIngreso:'12 de Febrero 2012', foto:'empleado2.jpg'},
			{idEmpleado:'7', nombre:'Haim Sagrero', fechaIngreso:'12 de Junio 2000', foto:'empleado3.jpg'},
			{idEmpleado:'8', nombre:'Ariel Castro', fechaIngreso:'18 de mayo 2000', foto:'empleado4.jpg'},
			{idEmpleado:'9', nombre:'Coyolxauhqui Ramirez', fechaIngreso:'12 de Enero 2012', foto:'empleado1.jpg'},
			{idEmpleado:'10', nombre:'Karen Gonzalez', fechaIngreso:'12 de Febrero 2012', foto:'empleado2.jpg'},
			{idEmpleado:'11', nombre:'Haim Sagrero', fechaIngreso:'12 de Junio 2000', foto:'empleado3.jpg'},
			{idEmpleado:'12', nombre:'Ariel Castro', fechaIngreso:'18 de mayo 2000', foto:'empleado4.jpg'},
		]
	},
	{
		idSeccion: '3', nombreSeccion:'Chofer', img:'icoChofer.svg',
		personal:[
			{idEmpleado:'1', nombre:'Coyolxauhqui Ramirez', fechaIngreso:'12 de Enero 2012', foto:'empleado1.jpg'},
			{idEmpleado:'2', nombre:'Karen Gonzalez', fechaIngreso:'12 de Febrero 2012', foto:'empleado2.jpg'},
			{idEmpleado:'3', nombre:'Haim Sagrero', fechaIngreso:'12 de Junio 2000', foto:'empleado3.jpg'},
			{idEmpleado:'4', nombre:'Ariel Castro', fechaIngreso:'18 de mayo 2000', foto:'empleado4.jpg'},
			{idEmpleado:'5', nombre:'Coyolxauhqui Ramirez', fechaIngreso:'12 de Enero 2012', foto:'empleado1.jpg'},
			{idEmpleado:'6', nombre:'Karen Gonzalez', fechaIngreso:'12 de Febrero 2012', foto:'empleado2.jpg'},
			{idEmpleado:'7', nombre:'Haim Sagrero', fechaIngreso:'12 de Junio 2000', foto:'empleado3.jpg'},
			{idEmpleado:'8', nombre:'Ariel Castro', fechaIngreso:'18 de mayo 2000', foto:'empleado4.jpg'},
			{idEmpleado:'9', nombre:'Coyolxauhqui Ramirez', fechaIngreso:'12 de Enero 2012', foto:'empleado1.jpg'},
			{idEmpleado:'10', nombre:'Karen Gonzalez', fechaIngreso:'12 de Febrero 2012', foto:'empleado2.jpg'},
			{idEmpleado:'11', nombre:'Haim Sagrero', fechaIngreso:'12 de Junio 2000', foto:'empleado3.jpg'},
			{idEmpleado:'12', nombre:'Ariel Castro', fechaIngreso:'18 de mayo 2000', foto:'empleado4.jpg'},
		]
	},
	{
		idSeccion: '4', nombreSeccion:'Sistema de riego', img:'icoRiego.svg',
		personal :[
			{idEmpleado:'1', nombre:'Coyolxauhqui Ramirez', fechaIngreso:'12 de Enero 2012', foto:'empleado1.jpg'},
			{idEmpleado:'2', nombre:'Karen Gonzalez', fechaIngreso:'12 de Febrero 2012', foto:'empleado2.jpg'},
			{idEmpleado:'3', nombre:'Haim Sagrero', fechaIngreso:'12 de Junio 2000', foto:'empleado3.jpg'},
			{idEmpleado:'4', nombre:'Ariel Castro', fechaIngreso:'18 de mayo 2000', foto:'empleado4.jpg'},
			{idEmpleado:'5', nombre:'Coyolxauhqui Ramirez', fechaIngreso:'12 de Enero 2012', foto:'empleado1.jpg'},
			{idEmpleado:'6', nombre:'Karen Gonzalez', fechaIngreso:'12 de Febrero 2012', foto:'empleado2.jpg'},
			{idEmpleado:'7', nombre:'Haim Sagrero', fechaIngreso:'12 de Junio 2000', foto:'empleado3.jpg'},

		]
	},
	{
		idSeccion: '5', nombreSeccion:'Jardinería', img:'icoJardineria.svg',
		personal :[
			{idEmpleado:'1', nombre:'Coyolxauhqui Ramirez', fechaIngreso:'12 de Enero 2012', foto:'empleado1.jpg'},
			{idEmpleado:'2', nombre:'Karen Gonzalez', fechaIngreso:'12 de Febrero 2012', foto:'empleado2.jpg'},
			{idEmpleado:'3', nombre:'Haim Sagrero', fechaIngreso:'12 de Junio 2000', foto:'empleado3.jpg'},
			{idEmpleado:'4', nombre:'Ariel Castro', fechaIngreso:'18 de mayo 2000', foto:'empleado4.jpg'},
			{idEmpleado:'5', nombre:'Coyolxauhqui Ramirez', fechaIngreso:'12 de Enero 2012', foto:'empleado1.jpg'},
			{idEmpleado:'6', nombre:'Karen Gonzalez', fechaIngreso:'12 de Febrero 2012', foto:'empleado2.jpg'},
			{idEmpleado:'7', nombre:'Haim Sagrero', fechaIngreso:'12 de Junio 2000', foto:'empleado3.jpg'},
		]
	},
	{
		idSeccion: '6', nombreSeccion:'Vigilancia', img:'icoVigilancia.svg',
		personal :[
			{idEmpleado:'1', nombre:'Coyolxauhqui Ramirez', fechaIngreso:'12 de Enero 2012', foto:'empleado1.jpg'},
			{idEmpleado:'2', nombre:'Karen Gonzalez', fechaIngreso:'12 de Febrero 2012', foto:'empleado2.jpg'},
			{idEmpleado:'3', nombre:'Haim Sagrero', fechaIngreso:'12 de Junio 2000', foto:'empleado3.jpg'},
		]
	},
	{
		idSeccion: '7', nombreSeccion:'Rastro', img:'icoRastro.svg',
		personal :[
			{idEmpleado:'1', nombre:'Coyolxauhqui Ramirez', fechaIngreso:'12 de Enero 2012', foto:'empleado1.jpg'},
			{idEmpleado:'2', nombre:'Karen Gonzalez', fechaIngreso:'12 de Febrero 2012', foto:'empleado2.jpg'}
		]
	},
	{
		idSeccion: '8', nombreSeccion:'Operación maquinaria', img:'icoMaquinaria.svg',
		personal :[
			{idEmpleado:'1', nombre:'Coyolxauhqui Ramirez', fechaIngreso:'12 de Enero 2012', foto:'empleado1.jpg'},
			{idEmpleado:'2', nombre:'Karen Gonzalez', fechaIngreso:'12 de Febrero 2012', foto:'empleado2.jpg'},
		]
	},
	{
		idSeccion: '9', nombreSeccion:'Producto animal', img:'icoProduccionAnimal.svg',
		personal :[
			{idEmpleado:'1', nombre:'Coyolxauhqui Ramirez', fechaIngreso:'12 de Enero 2012', foto:'empleado1.jpg'},
			{idEmpleado:'2', nombre:'Karen Gonzalez', fechaIngreso:'12 de Febrero 2012', foto:'empleado2.jpg'},
		]
	},
	{
		idSeccion: '10', nombreSeccion:'Albañileria', img:'icoAlbanileria.svg',
		personal :[
			{idEmpleado:'1', nombre:'Coyolxauhqui Ramirez', fechaIngreso:'12 de Enero 2012', foto:'empleado1.jpg'},
		]
	},
	{
		idSeccion: '11', nombreSeccion:'Mecánica', img:'icoMecanica.svg',
		personal:[
			{idEmpleado:'1', nombre:'Coyolxauhqui Ramirez', fechaIngreso:'12 de Enero 2012', foto:'empleado1.jpg'},
		]
	},
	{
		idSeccion: '12', nombreSeccion:'Supervisión', img:'icoSupervision.svg',
		personal:[
			{idEmpleado:'1', nombre:'Coyolxauhqui Ramirez', fechaIngreso:'12 de Enero 2012', foto:'empleado1.jpg'},
		]
	},
];

$(document).ready(function() {
	// Menu hambuergesa
	$("#effect").toggle(false);

	$("#hamburger").click(function (event) {
		event.stopPropagation();
		 $( "#effect" ).toggle( "slide"); 
	});

	$(document).click(function() {
		$("#effect").toggle(false);
	});
	
	$("#effect").click (function (event){
		event.stopPropagation();
	}); 

	$("#muestraEmpleados").on('click', '.empleado', function (event){
		location.href ="sobreMi.html";
   });

   //Ranchos
   $(".funcMuestraMasPersonal").click (function(event){
	   console.log("llega");
	   $(this).hide();
	   $(".conPersonal").next().addClass("muestra"); 
   });

   $("#muestraEmpleados").on('click', '.verMas' ,function(event){
		console.log('elemento', empleados[$(this).attr('posicion')]);
		let EmpleadosRBS ='';
		let index=0;
		for(let trabajador of  empleados[$(this).attr('posicion')].personal){
			EmpleadosRBS += `
			<div class="empleado" style="background-image: url(assets/img/personal/`+trabajador.foto+`);" rel="tooltip" title="<span class='tooltip-nombre'>`+trabajador.nombre+`</span><br><div class='tooltip-fecha'>Fecha de ingreso</div>`+trabajador.fechaIngreso+`"></div>`;
			index++;
		}
		$(this).parent().prev().prev().addClass("muestra");
		$(this).parent().html(EmpleadosRBS);
		tooltip();
	});

	$("#muestraEmpleados").on('click', '.contCerrar' ,function(event){
		console.log('elemento', empleados[$(this).attr('posicion')]);
		let EmpleadosRBS ='';
		let index=0;
		for(let trabajador of  empleados[$(this).attr('posicion')].personal){
			var otroValor1 = parseInt(empleados[$(this).attr('posicion')].personal.length)-4;
			if(index < 4){
				EmpleadosRBS += `
				<div class="empleado" style="background-image: url(assets/img/personal/`+trabajador.foto+`);" rel="tooltip" title="<span class='tooltip-nombre'>`+trabajador.nombre+`</span><br><div class='tooltip-fecha'>Fecha de ingreso</div>`+trabajador.fechaIngreso+`"></div>`;
			}else{
				break;
			}
			index++;
		}
	
			EmpleadosRBS += `<div class="empleado-mas verMas" posicion="`+$(this).attr('posicion') +`">+`+otroValor1+`</div>`

		$(this).removeClass("muestra");
		$(this).next().next().html(EmpleadosRBS);
		tooltip();
	});

//    cargarEmpleados();
});

function cargarEmpleados(){
	let EmpleadosRBS ='';
	let i = 0;
	for(let seccion of empleados){
		
		let otroValor = parseInt(seccion.personal.length)-4;
		EmpleadosRBS += `
		<div class="col4 conPersonal" >
			<div class="contCerrar" posicion="`+ i +`"><img src="assets/img/icoCerrar.png"></div>
			<div class="conPersonal-titulo">
			<div><img src="assets/img/`+ seccion.img+`" class="ico"></div>
			<div>`+ seccion.nombreSeccion+` (`+seccion.personal.length+`)</div>
			</div>
			<div class="contEmpleados">`;

			let j = 0;
			for(let trabajador of seccion.personal){
				if(j < 4){
					EmpleadosRBS += `
					<div class="empleado" style="background-image: url(assets/img/personal/`+trabajador.foto+`);" rel="tooltip" title="<span class='tooltip-nombre'>`+trabajador.nombre+`</span><br><div class='tooltip-fecha'>Fecha de ingreso</div>`+trabajador.fechaIngreso+`"></div>`;
				}else{
					break;
				}
				j++;
			}

			if (otroValor > 0){
				EmpleadosRBS += `<div class="empleado-mas verMas" posicion="`+ i +`">+`+otroValor+`</div>`
			}
		
			EmpleadosRBS += `</div>
		</div>`;

		i++;
	}
	$("#muestraEmpleados").html(EmpleadosRBS).show();
	tooltip();
}

function rancho(){
	location.href ="ranchos.html";
	return false;
}

//Tooltip
// $( function()
// {
//     var targets = $( '[rel~=tooltip]' ),
//         target  = false,
//         tooltip = false,
//         title   = false;
 
//     targets.bind( 'click', function()
//     {
//         target  = $( this );
//         tip     = target.attr( 'title' );
//         tooltip = $( '<div id="tooltip"></div>' );
 
//         if( !tip || tip == '' )
//             return false;
 
//         target.removeAttr( 'title' );
//         tooltip.css( 'opacity', 0 )
//                .html( tip )
//                .appendTo( 'body' );
 
//         var init_tooltip = function()
//         {
//             if( $( window ).width() < tooltip.outerWidth() * 1.5 )
//                 tooltip.css( 'max-width', $( window ).width() / 2 );
//             else
//                 tooltip.css( 'max-width', 340 );
 
//             var pos_left = target.offset().left + ( target.outerWidth() / 2 ) - ( tooltip.outerWidth() / 2 ),
//                 pos_top  = target.offset().top - tooltip.outerHeight() - 20;
 
//             if( pos_left < 0 )
//             {
//                 pos_left = target.offset().left + target.outerWidth() / 2 - 20;
//                 tooltip.addClass( 'left' );
//             }
//             else
//                 tooltip.removeClass( 'left' );
 
//             if( pos_left + tooltip.outerWidth() > $( window ).width() )
//             {
//                 pos_left = target.offset().left - tooltip.outerWidth() + target.outerWidth() / 2 + 20;
//                 tooltip.addClass( 'right' );
//             }
//             else
//                 tooltip.removeClass( 'right' );
 
//             if( pos_top < 0 )
//             {
//                 var pos_top  = target.offset().top + target.outerHeight();
//                 tooltip.addClass( 'top' );
//             }
//             else
//                 tooltip.removeClass( 'top' );
 
//             tooltip.css( { left: pos_left, top: pos_top } )
//                    .animate( { top: '+=10', opacity: 1 }, 50 );
//         };
 
//         init_tooltip();
//         $( window ).resize( init_tooltip );
 
//         var remove_tooltip = function()
//         {
//             tooltip.animate( { top: '-=10', opacity: 0 }, 50, function()
//             {
//                 $( this ).remove();
//             });
 
//             target.attr( 'title', tip );
//         };
 
//         target.bind( 'mouseleave', remove_tooltip );
//         tooltip.bind( 'click', remove_tooltip );
//     });
// });


	



